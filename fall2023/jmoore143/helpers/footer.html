<style>
    footer {
        width: 100%;
        height: 200px;
        bottom: 0px;
        background-color: var(--secondary);
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }

    footer>div {
        margin-top: 20px;
        width: 130px;
    }

    footer li {
        margin: 15px 0px;
        font-size: 1.25em;
    }

    footer h2{
        font-weight: bold;
    }

    footer li,
    footer ul {
        list-style: none;
    }

    footer li>i {
        float: right;
    }

    main {
        /* margin-bottom: 800px !important; */
        min-height: 100vh;
    }
</style>
<!-- copyright Jordan Moore (jmoore143) -->
<script>
    class Footer {
        items = [];
        sections = {};
        constructor(...sections) {
            sections.forEach(k => this.sections[k] = []);
        }
        add(item, section) {
            this.sections[section].push(item);
        }

        render() {
            let footer = document.createElement("footer");
            Object.entries(this.sections).forEach(([key, value]) => {
                let div = document.createElement("div");
                let title = document.createElement("h2");
                title.innerHTML = key;
                div.append(title);
                let ul = document.createElement("ul");
                value.forEach(s => {
                    ul.append(s.render());
                });
                div.append(ul);
                footer.append(div);
            });
            return footer;
        }
    }
    class FooterItem {
        constructor(text, url, icon) {
            this.text = text;
            this.url = url;
            this.icon = icon;
        }
        render() {
            let li = document.createElement("li");
            let a = document.createElement("a");
            let i = document.createElement("i");
            i.classList = `fa-brands fa-${this.icon}`;
            a.href = this.url;
            a.innerHTML = this.text;
            li.append(a);
            li.append(i);
            return li;
        }
    }
    function buildFooter() {
        console.debug("adding footer element");
        var ft = document.querySelector("footer");
        document.head.add(ft.querySelector("style"));
        console.debug("rendering footer");
        var render = foot.render();
        console.log("rendered footer:", render);
        ft.replaceWith(render);
    }
    let foot = new Footer("Socials");
    foot.add(new FooterItem("Discord", "https://discord.com", "discord"), "Socials");
    foot.add(new FooterItem("Twitter", "https://twitter.com", "twitter"), "Socials");
    foot.add(new FooterItem("GitHub", "https://github.com/moojor224", "github"), "Socials");
    foot.add(new FooterItem("Reddit", "https://reddit.com/", "reddit"), "Socials");
    buildFooter();
</script>